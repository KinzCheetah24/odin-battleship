(()=>{var e={56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},i=[],l=0;l<e.length;l++){var o=e[l],c=r.base?o[0]+r.base:o[0],p=s[c]||0,h="".concat(c," ").concat(p);s[c]=p+1;var u=n(h),d={css:o[1],media:o[2],sourceMap:o[3],supports:o[4],layer:o[5]};if(-1!==u)t[u].references++,t[u].updater(d);else{var m=a(d,r);r.byIndex=l,t.splice(l,0,{identifier:h,updater:m,references:1})}i.push(h)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var s=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<s.length;i++){var l=n(s[i]);t[l].references--}for(var o=r(e,a),c=0;c<s.length;c++){var p=n(s[c]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}s=o}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},208:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(354),a=n.n(r),s=n(314),i=n.n(s)()(a());i.push([e.id,"* {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n}\n\n.header {\n    height: 10vh;\n\n    display: flex;\n    justify-content: start;\n\n    padding: 20px;\n}\n\n.game-flow-announcement {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    margin-bottom: 20px;\n}\n\n.boards-div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    gap: 10vw;\n}\n\n.real-player, .computer-player {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    gap: 20px;\n}\n\n.real-player-board-div, .computer-player-board-div {\n    display: grid;\n    grid-template-columns: repeat(10, 1fr);\n    grid-template-rows: repeat(10, 1fr);\n}\n\n.board-square {\n    height: 25px;\n    width: 25px;\n\n    border: 1px solid black;\n\n\n    text-align: center;\n\n    font-family: Arial, Helvetica, sans-serif;\n\n    font-size: 25px;\n}\n\n.ship-placement-div {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    gap: 10px;\n\n    margin-top: 50px;\n}\n\n.placement {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    gap: 5px;\n}\n\n.reset-game-btn {\n    display: none;\n}","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;IACI,UAAU;IACV,SAAS;IACT,gBAAgB;AACpB;;AAEA;IACI,YAAY;;IAEZ,aAAa;IACb,sBAAsB;;IAEtB,aAAa;AACjB;;AAEA;IACI,aAAa;IACb,uBAAuB;IACvB,mBAAmB;;IAEnB,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,uBAAuB;IACvB,mBAAmB;;IAEnB,SAAS;AACb;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,uBAAuB;IACvB,mBAAmB;;IAEnB,SAAS;AACb;;AAEA;IACI,aAAa;IACb,sCAAsC;IACtC,mCAAmC;AACvC;;AAEA;IACI,YAAY;IACZ,WAAW;;IAEX,uBAAuB;;;IAGvB,kBAAkB;;IAElB,yCAAyC;;IAEzC,eAAe;AACnB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,uBAAuB;IACvB,mBAAmB;;IAEnB,SAAS;;IAET,gBAAgB;AACpB;;AAEA;IACI,aAAa;IACb,uBAAuB;IACvB,mBAAmB;;IAEnB,QAAQ;AACZ;;AAEA;IACI,aAAa;AACjB",sourcesContent:["* {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n}\n\n.header {\n    height: 10vh;\n\n    display: flex;\n    justify-content: start;\n\n    padding: 20px;\n}\n\n.game-flow-announcement {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    margin-bottom: 20px;\n}\n\n.boards-div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    gap: 10vw;\n}\n\n.real-player, .computer-player {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    gap: 20px;\n}\n\n.real-player-board-div, .computer-player-board-div {\n    display: grid;\n    grid-template-columns: repeat(10, 1fr);\n    grid-template-rows: repeat(10, 1fr);\n}\n\n.board-square {\n    height: 25px;\n    width: 25px;\n\n    border: 1px solid black;\n\n\n    text-align: center;\n\n    font-family: Arial, Helvetica, sans-serif;\n\n    font-size: 25px;\n}\n\n.ship-placement-div {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    gap: 10px;\n\n    margin-top: 50px;\n}\n\n.placement {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    gap: 5px;\n}\n\n.reset-game-btn {\n    display: none;\n}"],sourceRoot:""}]);const l=i},211:(e,t,n)=>{const r=n(906);e.exports={RealPlayer:class{placeShip(){}},ComputerPlayer:class{placeShip(){}},Player:class{constructor(e,t){this._board=new r(e),this._playerTypeFunctions=t}defaultGame(){this._board.placeShip(6,8,0,0,3),this._board.placeShip(1,4,1,1,4),this._board.placeShip(8,8,2,3,2),this._board.placeShip(2,2,3,4,2),this._board.placeShip(5,5,3,4,2),this._board.placeShip(2,3,6,6,2),this._board.placeShip(6,8,6,6,3),this._board.placeShip(5,9,8,8,5)}resetBoard(){this._board=new r(this._board.size)}get gameboard(){return this._board}}}},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,a,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var l=0;l<this.length;l++){var o=this[l][0];null!=o&&(i[o]=!0)}for(var c=0;c<e.length;c++){var p=[].concat(e[c]);r&&i[p[0]]||(void 0!==s&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=s),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),a&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=a):p[4]="".concat(a)),t.push(p))}},t}},354:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),s="/*# ".concat(a," */");return[t].concat([s]).join("\n")}return[t].join("\n")}},432:e=>{e.exports=class{constructor(e){this._length=e,this._hits=0,this._sunk=!1}hit(){this._hits++}isSunk(){return this._hits>=this._length}get length(){return this._length}get hits(){return this._hits}get sunk(){return this._sunk}set length(e){this._length=e}set hits(e){this._hits=e}set sunk(e){this._sunk=e}}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},620:(e,t,n)=>{const{RealPlayer:r,ComputerPlayer:a,Player:s}=n(211),i=n(964);e.exports=class{constructor(e){this.shipsForPlacement=[[1,5],[1,4],[2,3],[4,2]],this._realPlayer=new s(e,new r),this._computerPlayer=new s(e,new a),this._domDisplay=new i,this._turn={playerTurn:"real"},this._size=e}init(){this._domDisplay.displayPlayerBoard("real",this),this._domDisplay.displayPlayerBoard("computer",this),this._domDisplay.gameTypeDisplay(this),this._domDisplay.startGame(this)}processAttack(e,t){let n=null,r=null;return"real"===this._turn.playerTurn?(n=this._computerPlayer.gameboard.receiveAttack(e,t),r=this._computerPlayer.gameboard.shipsSunken()?"real":null,this._turn.playerTurn=-1===n?"real":"computer",this._turn.playerTurn=null!==r?"finished":this._turn.playerTurn):(n=this._realPlayer.gameboard.receiveAttack(e,t),r=this._realPlayer.gameboard.shipsSunken()?"computer":null,this._turn.playerTurn=-1===n?"computer":"real",this._turn.playerTurn=null!==r?"finished":this._turn.playerTurn),{attackResult:n,winner:r}}computerShipsPlacement(){for(;!this.allShipsPlaced("computer");){let e=this.shipPlacementTurn(this._computerPlayer.gameboard.ships),t=0===Math.floor(2*Math.random())?"horizontal":"vertical",n=-1;for(;-1===n;){let r=this._randomCoordinates();n="horizontal"===t?this._computerPlayer.gameboard.placeShip(r.x,r.x,r.y,r.y+e[1]-1,e[1]):this._computerPlayer.gameboard.placeShip(r.x,r.x+e[1]-1,r.y,r.y,e[1])}}}computerAttack(){let e=this._randomCoordinates();for(;!1!==this._realPlayer.gameboard.board[e.x][e.y];)e=this._randomCoordinates();let t=this.processAttack(e.x,e.y);return t.coordinates=e,t}allShipsPlaced(e){return"real"===e?JSON.stringify(this._checkAllShips(this._realPlayer.gameboard.ships))===JSON.stringify(this.shipsForPlacement):JSON.stringify(this._checkAllShips(this._computerPlayer.gameboard.ships))===JSON.stringify(this.shipsForPlacement)}shipPlacementTurn(e){let t=this._checkAllShips(e);for(let e=0;e<t.length;e++)if(this.shipsForPlacement[e][0]-t[e][0]>0)return[this.shipsForPlacement[e][0]-t[e][0],this.shipsForPlacement[e][1]];return-1}_randomCoordinates(){let e=Math.floor(Math.random()*this._size*this._size);return{x:Math.floor(e/this._size),y:e%this._size}}_shipPlacementArray(){return[[0,5],[0,4],[0,3],[0,2]]}_checkAllShips(e){let t=this._shipPlacementArray();for(let n=0;n<e.length;n++){let r=e[n][1].length;t.forEach(e=>{e[1]===r&&e[0]++})}return t}get realPlayer(){return this._realPlayer}get computerPlayer(){return this._computerPlayer}get domDisplay(){return this._domDisplay}get turn(){return this._turn}get size(){return this._size}}},659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},906:(e,t,n)=>{const r=n(432);e.exports=class{constructor(e){this._size=e,this._board=this._createBoard(e),this._shipsBoard=this._createBoard(e),this._ships=[]}placeShip(e,t,n,a,s){if(!(e<this._size&&t<this._size&&n<this._size&&a<this._size))return-1;if(t-e+1!==s&&a-n+1!==s||t-e!==0&&a-n!==0)return-1;if(this._shipPlaced(e,t,n,a))return-1;let i=[e,t,n,a],l=new r(s);for(let r=e;r<=t;r++)for(let e=n;e<=a;e++)this._shipsBoard[r][e]="ship";let o=[i,l];return this._ships.push(o),o}receiveAttack(e,t){let n=this._hitShip(e,t);return!1!==this._board[e][t]?-1:-2===n?(this._board[e][t]="missed","missed"):n>=0&&!this._board[e][t]?(this._ships[n][1].hit(),this._board[e][t]="hit","hit"):-1}shipsSunken(){let e=!0;for(let t=0;t<this._ships.length;t++)this._ships[t][1].isSunk()||(e=!1);return e}_createBoard(e){let t=[];for(let n=0;n<e;n++){let n=[];for(let t=0;t<e;t++)n.push(!1);t.push(n)}return t}_shipPlaced(e,t,n,r){for(let a=0;a<this._ships.length;a++){let s=this._ships[a][0],i=!1,l=!1;for(let n=e;n<=t;n++)n>=s[0]&&n<=s[1]&&(i=!0);for(let e=n;e<=r;e++)e>=s[2]&&e<=s[3]&&(l=!0);if(i&&l)return!0}return!1}_hitShip(e,t){if(!(e<this._size&&t<this._size))return-1;for(let n=0;n<this._ships.length;n++){let r=this._ships[n][0];if(e>=r[0]&&e<=r[1]&&t>=r[2]&&t<=r[3])return n}return-2}get size(){return this._size}get board(){return this._board}get shipsBoard(){return this._shipsBoard}get ships(){return this._ships}}},964:e=>{e.exports=class{constructor(){this._realPlayerBoardDisplay=document.querySelector(".real-player-board-div"),this._computerPlayerBoardDisplay=document.querySelector(".computer-player-board-div"),this._messageDisplay=document.getElementById("info-display"),this._gamePlacementMode=document.getElementById("select-ship-placement"),this._customPlacement=document.querySelector(".placement"),this._placeShipBtn=document.querySelector(".place-btn"),this._startGameBtn=document.querySelector(".start-game-btn"),this._resetGameBtn=document.querySelector(".reset-game-btn")}displayPlayerBoard(e,t){this._removePlayerBoardDisplay(e);let n=null,r=null,a=null;"real"===e?(n=this._realPlayerBoardDisplay,r=t.realPlayer.gameboard.board,a=t.realPlayer.gameboard.shipsBoard):(n=this._computerPlayerBoardDisplay,r=t.computerPlayer.gameboard.board,a=t.computerPlayer.gameboard.shipsBoard);for(let t=0;t<r.length;t++)for(let s=0;s<r[0].length;s++){let i=document.createElement("div");i.className="board-square","hit"===r[t][s]&&(i.textContent="x"),"missed"===r[t][s]&&(i.style.backgroundColor="lightblue"),"ship"===a[t][s]&&"real"===e&&(i.style.backgroundColor="blue"),n.appendChild(i)}}squareEventListeners(e,t){let n=null;n="real"===e?this._computerPlayerBoardDisplay:this._realPlayerBoardDisplay;for(let r=0;r<n.children.length;r++)n.children[r].addEventListener("click",n=>{if(t.turn.playerTurn===e){let e=Math.floor(r/t.size),a=r%t.size,s=t.processAttack(e,a);this._displayAttackResultSquare(n.target,s,t.turn.playerTurn)}else"finished"===t.turn.playerTurn?console.log("Game finished"):console.log("Not your turn");if("computer"===t.turn.playerTurn){let e=t.computerAttack(),n=this._realPlayerBoardDisplay.children[e.coordinates.x*t.size+e.coordinates.y];this._displayAttackResultSquare(n,e,t.turn.playerTurn)}})}gameTypeDisplay(e){this._displayCustomPlacement(this._gamePlacementMode.value,e),this._gamePlacementMode.addEventListener("change",t=>{this._displayCustomPlacement(t.target.value,e)})}startGame(e){this._startGameBtn.addEventListener("click",()=>{e.allShipsPlaced("real")&&(this._messageDisplay.textContent="Real Player Turn",this._gamePlacementMode.style.display="none",this._customPlacement.style.display="none",this._placeShipBtn.style.display="none",this._startGameBtn.style.display="none",e.computerShipsPlacement(),this.squareEventListeners("real",e),this.squareEventListeners("computer",e))})}_removePlayerBoardDisplay(e){let t=null;for(t="real"===e?this._realPlayerBoardDisplay:this._computerPlayerBoardDisplay;t.children.length>0;)t.removeChild(t.children[0])}_displayAttackResultSquare(e,t,n){"hit"===t.attackResult?e.textContent="x":"missed"===t.attackResult&&(e.style.backgroundColor="lightblue"),"real"===n?this._messageDisplay.textContent="Real Player Turn":"computer"===n?this._messageDisplay.textContent="Computer Player Turn":"finished"===n&&(this._messageDisplay.textContent="Game Ended, "+("real"===t.winner?"Real":"computer"===t.winner?"Computer":"None")+" Player Wins",this._resetGameBtn.style.display="block",this._resetGameBtn.addEventListener("click",()=>{location.reload()}))}_displayCustomPlacement(e,t){t.realPlayer.resetBoard(),this.displayPlayerBoard("real",t),"default"===e?(this._customPlacement.style.display="none",t.realPlayer.defaultGame(),this.displayPlayerBoard("real",t)):"custom"===e&&(this._customPlacement.style.display="flex",this._placeShipBtn=this._removeEventListeners(this._placeShipBtn),this._manageCustomPlacement(t))}_manageCustomPlacement(e){let t=e.shipPlacementTurn(e.realPlayer.gameboard.ships);document.querySelector(".ship-for-placement").textContent=`${t[0]}x${t[1]}`,this._placeShipBtn.addEventListener("click",()=>{if(-1!==t){let n=parseInt(document.getElementById("x-start").value),r=parseInt(document.getElementById("y-start").value),a=-1;NaN!==r&&NaN!==n&&(a="horizontal"===document.getElementById("ship-direction").value?e.realPlayer.gameboard.placeShip(r,r,n,n+t[1]-1,t[1]):e.realPlayer.gameboard.placeShip(r,r+t[1]-1,n,n,t[1])),-1===a?document.querySelector(".ship-for-placement").textContent=`Incorrect values, place ship again (${t[0]}x${t[1]})`:(this.displayPlayerBoard("real",e),t=e.shipPlacementTurn(e.realPlayer.gameboard.ships),document.querySelector(".ship-for-placement").textContent=-1!==t?`${t[0]}x${t[1]}`:"Start the game")}})}_removeEventListeners(e){let t=e.cloneNode(!0);return e.parentNode.replaceChild(t,e),t}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={id:r,exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{"use strict";var e=n(72),t=n.n(e),r=n(825),a=n.n(r),s=n(659),i=n.n(s),l=n(56),o=n.n(l),c=n(540),p=n.n(c),h=n(113),u=n.n(h),d=n(208),m={};m.styleTagTransform=u(),m.setAttributes=o(),m.insert=i().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=p(),t()(d.A,m),d.A&&d.A.locals&&d.A.locals,new(n(620))(10).init()})()})();
//# sourceMappingURL=main.js.map